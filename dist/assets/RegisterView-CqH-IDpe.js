import{_ as f,c as p,a as r,b as c,d as g,w as t,v as i,t as v,f as a,r as w,g as h,e as y,o as u}from"./index-CKDXukCK.js";const C={setup(){let n={username:"",mail:"",password:"",confirmPassword:"",registrationKey:""},e="",l=w(!1);async function o(){if(this.form.password!==this.form.confirmPassword){alert("Les mots de passe ne correspondent pas !");return}const d="/users/register",m={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:5173"}};try{const s=await h.post(d,{username:this.form.username,mail:this.form.mail,password:this.form.password,registrationKey:this.form.registrationKey},m);console.log("apiClient respone : ",s),y.push("/login")}catch(s){l.value=!0,this.message=s.response.data,console.error("Register failed : ",s)}}return{form:n,message:e,register:o}}},V={class:"register-page"},b={class:"register-container"},P={class:"form-group"},x={class:"form-group"},z={class:"form-group"},E={class:"form-group"},j={class:"form-group"},q={key:0,id:"error"};function K(n,e,l,o,d,m){return u(),p("div",V,[r("div",b,[e[7]||(e[7]=r("h2",{class:"h2-register"},"Créer un compte",-1)),r("form",{class:"register-form",onSubmit:e[5]||(e[5]=g((...s)=>o.register&&o.register(...s),["prevent"]))},[r("div",P,[t(r("input",{class:"input-register",type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.username=s),placeholder:"Entrez votre nom d'utilisateur",required:""},null,512),[[i,o.form.username]])]),r("div",x,[t(r("input",{class:"input-register",type:"email",id:"mail","onUpdate:modelValue":e[1]||(e[1]=s=>o.form.mail=s),placeholder:"Entrez votre adresse email",required:""},null,512),[[i,o.form.mail]])]),r("div",z,[t(r("input",{class:"input-register",type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=s=>o.form.password=s),placeholder:"Créez un mot de passe",required:""},null,512),[[i,o.form.password]])]),r("div",E,[t(r("input",{class:"input-register",type:"password",id:"confirm-password","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.confirmPassword=s),placeholder:"Confirmez votre mot de passe",required:""},null,512),[[i,o.form.confirmPassword]])]),r("div",j,[t(r("input",{type:"text",class:"input-register","onUpdate:modelValue":e[4]||(e[4]=s=>o.form.registrationKey=s),placeholder:"Entrez le code d'activation de votre licence",required:""},null,512),[[i,o.form.registrationKey]])]),e[6]||(e[6]=r("div",{class:"register-btn"},[r("button",{type:"submit",class:"btn"},"S'inscrire")],-1))],32),n.showError?(u(),p("p",q,v(this.message),1)):c("",!0),e[8]||(e[8]=r("p",{class:"redirect-login"},[a("Déjà inscrit ? "),r("a",{href:"/login"},"Connectez-vous ici"),a(".")],-1)),e[9]||(e[9]=r("p",{class:""},[a(" Pas encore de clé ? Faites-en la demande via"),r("a",{href:"mailto:joachim.lejeune.dev@gmail.com?subject=Demande%20de%20clé%20d'activation pour Pedimed."},"mail"),a(". ")],-1))])])}const D=f(C,[["render",K]]);export{D as default};
