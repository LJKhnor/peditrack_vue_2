import{r as i,h as v,A as m,g as f,_ as g,c as U,a as t,d as c,w as s,v as n,o as y}from"./index-Byxv3fAv.js";const h={name:"UpdateUserVue",setup(){let l=i({}),e=i({username:"",street:"",postalCode:"",city:"",theme:""});v(()=>{p().then(()=>{})}),i(!1);const d="/users/info",o={method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:5173",Authorization:"Bearer "+m.getCurrentToken()}},u={method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:5173",Authorization:"Bearer "+m.getCurrentToken()}};async function p(){await f.get(d,o).then(a=>{e.value.username=a.data.name})}async function r(){await f.put("/users/update",l,u).then(a=>{console.log(a)})}return{form:e,formData:l,updateUser:r}}},C={class:"edit-user-page"},A={class:"edit-user-page-container"},w={class:"form-group"},x={class:"form-group"},V={class:"form-group"},b={class:"form-group"};function E(l,e,d,o,u,p){return y(),U("div",C,[t("div",A,[e[10]||(e[10]=t("h2",{class:"h2-update-user"},"Préférence utilisateur",-1)),t("form",{id:"update-user-form",onSubmit:e[4]||(e[4]=c((...r)=>o.updateUser&&o.updateUser(...r),["prevent"]))},[t("div",w,[e[6]||(e[6]=t("label",{for:"username"},"Nom d'utilisateur",-1)),s(t("input",{class:"input-register",type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=r=>o.form.username=r),placeholder:"Entrez votre nom d'utilisateur"},null,512),[[n,o.form.username]])]),t("div",x,[e[7]||(e[7]=t("label",{for:"street"},"Rue",-1)),s(t("input",{class:"input-register",type:"text",id:"street","onUpdate:modelValue":e[1]||(e[1]=r=>o.form.street=r),placeholder:"Entrez votre rue et numéro"},null,512),[[n,o.form.street]])]),t("div",V,[e[8]||(e[8]=t("label",{for:"postal-code"},"Code postal",-1)),s(t("input",{class:"input-register",type:"text",id:"postal-code","onUpdate:modelValue":e[2]||(e[2]=r=>o.form.postalcode=r),placeholder:"Entrez votre code postal"},null,512),[[n,o.form.postalcode]])]),t("div",b,[e[9]||(e[9]=t("label",{for:"city"},"Ville",-1)),s(t("input",{class:"input-register",type:"text",id:"city","onUpdate:modelValue":e[3]||(e[3]=r=>o.form.city=r),placeholder:"Entrez le nom de votre ville"},null,512),[[n,o.form.city]])])],32),t("input",{type:"submit",class:"btn user-record-validation",value:"Mettre à jour",onClick:e[5]||(e[5]=c((...r)=>o.updateUser&&o.updateUser(...r),["prevent"]))})])])}const z=g(h,[["render",E]]);export{z as default};
